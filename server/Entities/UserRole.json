{
  "name": "UserRole",
  "description": "Many-to-many relationship between users and roles",
  "fields": {
    "id": {
      "type": "string",
      "required": true,
      "description": "Unique relationship identifier"
    },
    "user_id": {
      "type": "string",
      "required": true,
      "description": "User ID"
    },
    "role_id": {
      "type": "string",
      "required": true,
      "description": "Role ID"
    },
    "assigned_date": {
      "type": "string",
      "required": true,
      "description": "When this role was assigned to the user"
    },
    "assigned_by": {
      "type": "string",
      "required": false,
      "description": "User ID who assigned this role"
    },
    "expires_at": {
      "type": "string",
      "required": false,
      "description": "Role expiration date (optional)"
    },
    "is_primary": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Whether this is the user's primary role"
    },
    "status": {
      "type": "string",
      "required": true,
      "default": "active",
      "enum": ["active", "suspended", "revoked"],
      "description": "Role assignment status"
    }
  },
  "indexes": ["user_id", "role_id", "status"],
  "unique_constraints": ["user_id", "role_id"],
  "relationships": {
    "user": {
      "type": "many-to-one",
      "entity": "User",
      "foreign_key": "user_id",
      "description": "The user this role is assigned to"
    },
    "role": {
      "type": "many-to-one",
      "entity": "Role",
      "foreign_key": "role_id",
      "description": "The role being assigned"
    }
  }
}



